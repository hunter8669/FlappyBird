# FlapPyBird 云部署指南 🚀

## 🎯 方案推荐

### 🥇 Railway (推荐) - 完全免费
- **优势**：最简单，自动部署，免费额度充足
- **网址**：https://railway.app
- **部署时间**：5分钟

### 🥈 Render - 免费备选
- **优势**：稳定可靠，自动SSL
- **网址**：https://render.com
- **部署时间**：10分钟

### 🥉 Vercel - 前端友好
- **优势**：速度快，CDN支持
- **网址**：https://vercel.com
- **限制**：主要面向前端，后端有限制

---

## 🚀 Railway 部署步骤（推荐）

### 步骤1：准备代码
```bash
# 确保项目已推送到GitHub
git add .
git commit -m "准备云部署"
git push origin main
```

### 步骤2：注册Railway
1. 访问 https://railway.app
2. 用GitHub账号登录
3. 点击 "Start a New Project"

### 步骤3：选择项目
1. 选择 "Deploy from GitHub repo"
2. 选择您的 FlapPyBird 项目
3. Railway会自动检测Python项目

### 步骤4：配置启动命令
在Railway控制台设置：
- **Start Command**: `cd backend && python simple_server_cloud.py`
- **Port**: 让Railway自动分配

### 步骤5：部署完成
- Railway会自动构建和部署
- 几分钟后获得公网域名，如：`your-app.railway.app`
- 全世界都能访问！

---

## 🔧 Render 部署步骤（备选）

### 步骤1：注册Render
1. 访问 https://render.com
2. GitHub登录

### 步骤2：创建Web Service
1. 点击 "New" → "Web Service"
2. 连接GitHub仓库
3. 配置：
   - **Build Command**: `pip install -r backend/requirements_cloud.txt`
   - **Start Command**: `cd backend && python simple_server_cloud.py`

### 步骤3：等待部署
- 自动构建约5-10分钟
- 获得类似 `your-app.onrender.com` 的域名

---

## 📝 部署前检查清单

### ✅ 必需文件（已为您创建）
- `Procfile` - Heroku等平台启动配置
- `railway.json` - Railway配置文件
- `backend/simple_server_cloud.py` - 云版本服务器
- `backend/requirements_cloud.txt` - 简化依赖

### ✅ 代码修改（已完成）
- 服务器监听 `0.0.0.0`（所有网络接口）
- 端口从环境变量读取（云平台自动分配）
- 健康检查接口 `/health`

### ✅ 测试准备
本地测试云版本：
```bash
cd backend
python simple_server_cloud.py
```

---

## 🌐 部署后的访问地址

### 游戏功能
- **主页**: `https://your-app.railway.app/`
- **游戏下载**: `https://your-app.railway.app/api/downloads/desktop`
- **用户注册**: `https://your-app.railway.app/register`
- **管理后台**: `https://your-app.railway.app/admin`

### API接口
- **健康检查**: `https://your-app.railway.app/health`
- **用户API**: `https://your-app.railway.app/api/users/`
- **排行榜**: `https://your-app.railway.app/api/scores/leaderboard`

---

## 🎮 游戏客户端配置

部署后需要更新游戏客户端的服务器地址：

### 修改网络配置
编辑 `game-desktop/src/network_manager.py`：
```python
# 将本地地址改为云部署地址
SERVER_URL = "https://your-app.railway.app"  # 替换为实际域名
```

### 重新打包游戏
```bash
cd game-desktop
python start_with_server.py
```

---

## 💰 费用说明

### Railway (推荐)
- **免费额度**: 512MB RAM, 1GB存储
- **流量**: 无限制
- **适用**: 个人项目、学习、演示

### Render
- **免费额度**: 512MB RAM, 自动休眠
- **限制**: 15分钟无访问会休眠
- **适用**: 测试和小型项目

### 升级选项
当用户增多时可考虑付费升级：
- Railway Pro: $5/月
- Render Starter: $7/月

---

## 🚨 注意事项

### 数据持久化
免费版本**重新部署会丢失数据**！解决方案：
1. **升级到付费版**（推荐）
2. **使用云数据库**（如MongoDB Atlas免费版）
3. **接受数据重置**（演示项目可接受）

### 性能考虑
- 免费版有资源限制
- 首次访问可能较慢（冷启动）
- 适合展示和轻量使用

### 域名自定义
- 付费版可绑定自定义域名
- 免费版使用平台提供的子域名

---

## 🎉 部署成功后

### 分享您的游戏
- **游戏网站**: `https://your-app.railway.app`
- **下载地址**: `https://your-app.railway.app/api/downloads/desktop`
- **社交分享**: 朋友圈、QQ群、同学群

### 监控和维护
- Railway控制台查看访问日志
- 监控资源使用情况
- 定期检查服务状态

---

恭喜！�� 您的游戏现在可以让全世界的人访问了！ 